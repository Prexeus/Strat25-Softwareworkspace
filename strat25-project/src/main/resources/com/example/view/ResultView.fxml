<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.chart.PieChart?>
<?import javafx.scene.chart.StackedBarChart?>
<?import javafx.scene.chart.NumberAxis?>
<?import javafx.scene.chart.CategoryAxis?>
<?import javafx.scene.control.*?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.*?>

<GridPane xmlns="http://javafx.com/javafx/21"
          xmlns:fx="http://javafx.com/fxml/1"
          fx:controller="com.example.controller.ResultController"
          hgap="0" vgap="0">

    <!-- 40% links (Extra-Kategorien), 60% rechts (Hauptbereich) -->
    <columnConstraints>
        <ColumnConstraints percentWidth="40"/>
        <ColumnConstraints percentWidth="60"/>
    </columnConstraints>

    <!-- 60% oben (Bauspiel), 40% unten (Endscore) -->
    <rowConstraints>
        <RowConstraints percentHeight="60"/>
        <RowConstraints percentHeight="40"/>
    </rowConstraints>

    <!-- LINKE SPALTE -->
    <VBox GridPane.columnIndex="0" GridPane.rowIndex="0" GridPane.rowSpan="2"
          spacing="10" fillWidth="true">
        <padding><Insets topRightBottomLeft="12"/></padding>

        <Label text="Kategorien" style="-fx-font-size:18; -fx-font-weight:bold;"/>

        <GridPane fx:id="extraChartsGrid" hgap="10" vgap="10" VBox.vgrow="ALWAYS">
            <columnConstraints>
                <ColumnConstraints percentWidth="50"/>
                <ColumnConstraints percentWidth="50"/>
            </columnConstraints>
            <rowConstraints>
                <RowConstraints percentHeight="50"/>
                <RowConstraints percentHeight="50"/>
            </rowConstraints>
        </GridPane>
    </VBox>

    <!-- RECHTE SPALTE OBEN -->
    <VBox GridPane.columnIndex="1" GridPane.rowIndex="0"
          spacing="10" fillWidth="true">
        <padding><Insets topRightBottomLeft="12"/></padding>

        <Label fx:id="activeBuildLabel" style="-fx-font-size:20; -fx-font-weight:bold;" text="—"/>
        <Label fx:id="phaseTitleLabel"  style="-fx-font-size:16;" text="—"/>

        <GridPane VBox.vgrow="ALWAYS">
            <columnConstraints>
                <ColumnConstraints percentWidth="60"/>
                <ColumnConstraints percentWidth="40"/>
            </columnConstraints>
            <rowConstraints>
                <RowConstraints vgrow="ALWAYS"/>
            </rowConstraints>

            <StackPane fx:id="imageHolder"
                       GridPane.columnIndex="0" GridPane.rowIndex="0"
                       maxWidth="Infinity"
                       minHeight="220"
                       prefHeight="360">
                <children>
                    <ImageView fx:id="phaseImageView"
                               preserveRatio="true"
                               smooth="true"
                               cache="true"
                               pickOnBounds="true"/>
                </children>
            </StackPane>

            <StackPane fx:id="pieHolder"
                       GridPane.columnIndex="1" GridPane.rowIndex="0"
                       maxWidth="Infinity"
                       minHeight="220"
                       prefHeight="360">
                <children>
                    <PieChart fx:id="influencePieChart"
                              labelsVisible="false"
                              legendVisible="false"/>
                    <ImageView fx:id="pieCenterImage"
                               mouseTransparent="true"
                               preserveRatio="true"/>
                </children>
            </StackPane>
        </GridPane>

        <Label text="Benötigte Ressourcen" style="-fx-font-weight:bold;"/>
        <ListView fx:id="materialsList"/>
    </VBox>

    <!-- RECHTE SPALTE UNTEN -->
    <VBox fx:id="rightBottomBox"
          GridPane.columnIndex="1" GridPane.rowIndex="1"
          spacing="10" fillWidth="true">
        <padding><Insets topRightBottomLeft="12"/></padding>

        <Label text="Gesamtbewertung – Prestige" style="-fx-font-size:18; -fx-font-weight:bold;"/>

        <!-- Horizontal: NumberAxis (x) wird komplett ausgeblendet -->
        <StackedBarChart fx:id="prestigeChart"
                         VBox.vgrow="ALWAYS"
                         animated="false"
                         legendVisible="false">
            <xAxis>
                <NumberAxis fx:id="prestigeXAxis"
                            visible="false"
                            tickLabelsVisible="false"
                            tickMarkVisible="false"
                            minorTickVisible="false"
                            autoRanging="true"/>
            </xAxis>
            <yAxis>
                <CategoryAxis fx:id="prestigeYAxis"/>
            </yAxis>
        </StackedBarChart>
    </VBox>

</GridPane>
